!function(s){function a(){l=s(window).scrollTop(),console.log("main = "+s('main[role="main"]').offset().top),console.log("bg = "+s("#bg").innerHeight()),l>0?t.addClass("overlay"):t.removeClass("overlay"),l>=o?(e.css("position","absolute"),e.css("top",o)):(e.css("top",0),e.css("position","fixed"))}function n(a,l){s(a+" .messageBox").html(l);var o=setInterval(function(){n(a,""),clearInterval(o)},5e3)}var l,o=s('main[role="main"]').offset().top-s("#bg").innerHeight(),e=s("#bg"),t=s("header[role='banner']");console.log("main = "+s('main[role="main"]').offset().top),console.log("bg = "+s("#bg").innerHeight()),s(document).scroll(function(){a()}),s(window).resize(function(){o=s('main[role="main"]').offset().top-s("#bg").innerHeight(),a()}),s(document).ready(function(){setTimeout(function(){o=s('main[role="main"]').offset().top-s("#bg").innerHeight(),a()},1),s('a[href^="#"]').click(function(){if(s(this).hasClass("project"))return console.log("modal"),!1;var a=s(this).attr("href");return s("body,html").animate({scrollTop:s(a).offset().top-60},"slow"),console.log(s(a).offset().top),!1}),s(".break .expand").click(function(){var a=s(this).attr("href");return s(a).toggleClass("collapse expand"),s(this).toggleClass("collapse expand"),"+"==s(this).html()?s(this).html("&ndash;"):s(this).html("+"),!1}),s(".skills").each(function(){var a=s(this).html();a=a.replace(/\: Expert/g,"<span class='on'>&bull;</span><span class='on'>&bull;</span><span class='on'>&bull;</span><span class='on'>&bull;</span><span class='on'>&bull;</span>"),a=a.replace(/\: Advanced/g,"<span class='on'>&bull;</span><span class='on'>&bull;</span><span class='on'>&bull;</span><span class='on'>&bull;</span><span class='off'>&bull;</span>"),a=a.replace(/\: Intermediate/g,"<span class='on'>&bull;</span><span class='on'>&bull;</span><span class='on'>&bull;</span><span class='off'>&bull;</span><span class='off'>&bull;</span>"),a=a.replace(/\: Knowledgeable/g,"<span class='on'>&bull;</span><span class='on'>&bull;</span><span class='off'>&bull;</span><span class='off'>&bull;</span><span class='off'>&bull;</span>"),a=a.replace(/\: Novice/g,"<span class='on'>&bull;</span><span class='off'>&bull;</span><span class='off'>&bull;</span><span class='off'>&bull;</span><span class='off'>&bull;</span>"),s(this).html(a)})}),s("form").submit(function(s){s.preventDefault()}),s("[type='submit']").click(function(a){a.preventDefault();var l="#"+s(this).attr("form"),o=s(l).serializeArray(),e=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;n(l,"<span>Processing...</span>"),""==o[1].value||""==o[2].value?n(l,"<span class='fail'>Oops, you missed a mandatory field!</span>"):e.test(o[2].value)?s.post("http://lucasunplugged.com/mail/",o,function(s,a){console.log(a),"success"==a?n(l,"<span class='success'>Success!</span>"):n(l,"<span class='fail'>Oops, something went wrong. Please try again.</span>")}):n(l,"<span class='fail'>Please enter a valid email address.</span>")})}(jQuery);