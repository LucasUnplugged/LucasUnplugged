!function(s){function a(){e=s(window).scrollTop(),e>0?t.addClass("overlay"):t.removeClass("overlay"),e>=o?(p.css("position","absolute"),p.css("top",o)):(p.css("top",0),p.css("position","fixed"))}function l(a,n){s(a+" .messageBox").html(n);var e=setInterval(function(){l(a,""),clearInterval(e)},5e3)}var n=70;/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(n=-35);var e,o=s("#blurb").offset().top+s("#blurb").outerHeight()-s(window).height()+n,p=s("#bg"),t=s("header[role='banner']");s(document).scroll(function(){a()}),s(window).resize(function(){o=s("#blurb").offset().top+s("#blurb").outerHeight()-s(window).height()+70,a()}),s(document).ready(function(){s('a[href^="#"]').click(function(){if(s(this).hasClass("project"))return console.log("modal"),!1;var a=s(this).attr("href");return s("body,html").animate({scrollTop:s(a).offset().top-60},"slow"),console.log(s(a).offset().top),!1}),s(".break .expand").click(function(){var a=s(this).attr("href");return s(a).toggleClass("collapse expand"),s(this).toggleClass("collapse expand"),"+"==s(this).html()?s(this).html("&ndash;"):s(this).html("+"),!1}),s(".skills").each(function(){var a=s(this).html();a=a.replace(/\: Expert/g,"<span class='on'>&bull;</span><span class='on'>&bull;</span><span class='on'>&bull;</span><span class='on'>&bull;</span><span class='on'>&bull;</span>"),a=a.replace(/\: Advanced/g,"<span class='on'>&bull;</span><span class='on'>&bull;</span><span class='on'>&bull;</span><span class='on'>&bull;</span><span class='off'>&bull;</span>"),a=a.replace(/\: Intermediate/g,"<span class='on'>&bull;</span><span class='on'>&bull;</span><span class='on'>&bull;</span><span class='off'>&bull;</span><span class='off'>&bull;</span>"),a=a.replace(/\: Knowledgeable/g,"<span class='on'>&bull;</span><span class='on'>&bull;</span><span class='off'>&bull;</span><span class='off'>&bull;</span><span class='off'>&bull;</span>"),a=a.replace(/\: Novice/g,"<span class='on'>&bull;</span><span class='off'>&bull;</span><span class='off'>&bull;</span><span class='off'>&bull;</span><span class='off'>&bull;</span>"),s(this).html(a)})}),s("form").submit(function(s){s.preventDefault()}),s("[type='submit']").click(function(a){a.preventDefault();var n="#"+s(this).attr("form"),e=s(n).serializeArray(),o=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;l(n,"<span>Processing...</span>"),""==e[1].value||""==e[2].value?l(n,"<span class='fail'>Oops, you missed a mandatory field!</span>"):o.test(e[2].value)?s.post("http://lucasunplugged.com/mail/",e,function(s,a){console.log(a),"success"==a?l(n,"<span class='success'>Success!</span>"):l(n,"<span class='fail'>Oops, something went wrong. Please try again.</span>")}):l(n,"<span class='fail'>Please enter a valid email address.</span>")})}(jQuery);