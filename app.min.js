function getFile(e,t,n){fs.readFile(e,function(e,r){e?(t.writeHead(500),t.end()):(t.setHeader("Content-Length",r.length),t.setHeader("Content-Type",n),t.statusCode=200,t.end(r))})}var port=8e3,serverUrl="127.0.0.1",http=require("http"),path=require("path"),fs=require("fs");console.log("Starting web server at "+serverUrl+":"+port),http.createServer(function(e,t){var n=(new Date,e.url||"index.html"),r=path.extname(n),i=__dirname,a={".html":"text/html",".js":"application/javascript",".css":"text/css",".txt":"text/plain",".jpg":"image/jpeg",".gif":"image/gif",".png":"image/png"},l=a[r];l?(i+=n,path.exists(i,function(e){e?(console.log("Serving file: "+i),getFile(i,t,r)):(console.log("File not found: "+i),t.writeHead(404),t.end())})):console.log("Invalid file extension detected: "+r)}).listen(port,serverUrl);